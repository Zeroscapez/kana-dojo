# Implementation Plan: Japanese Resources Library

## Overview

This implementation plan creates a comprehensive Japanese learning resource library at `/resources` with 200+ curated resources across 15+ categories. The implementation prioritizes SEO optimization, premium visual design, and data-driven architecture for easy maintenance.

## Tasks

- [x] 1. Set up feature module structure and core types
  - [x] 1.1 Create feature directory structure at `features/Resources/`
    - Create directories: components/, data/, lib/, types/, hooks/
    - Create barrel export index.ts
    - _Requirements: 6.1, 6.4_
  - [x] 1.2 Define TypeScript interfaces and types
    - Create Resource, Category, Subcategory interfaces
    - Define DifficultyLevel, PriceType, Platform, CategoryId enums
    - Define ActiveFilters, FilterOptions, CategoryWithCount types
    - _Requirements: 6.2_
  - [x] 1.3 Write property test for resource schema validation
    - **Property 7: Resource Data Schema Validation**
    - **Validates: Requirements 6.2, 6.3**

- [x] 2. Create resource data files
  - [x] 2.1 Create categories.json with all category and subcategory definitions
    - Define 15+ categories with names, descriptions, icons, SEO content
    - Define subcategories for each category
    - _Requirements: 1.2, 2.3_
  - [x] 2.2 Create resource JSON files for each category
    - Create apps.json with 20+ app resources (Anki, WaniKani, Bunpro, etc.)
    - Create websites.json with 15+ website resources
    - Create textbooks.json with 20+ textbook resources (Genki, Minna no Nihongo, etc.)
    - Create youtube.json with 15+ YouTube channel resources
    - Create podcasts.json with 10+ podcast resources
    - Create games.json with 15+ video game resources
    - Create jlpt.json with 15+ JLPT-specific resources
    - Create reading.json, listening.json, speaking.json, writing.json
    - Create grammar.json, vocabulary.json, kanji.json
    - Create immersion.json and community.json
    - _Requirements: 1.2, 6.1, 6.2_
  - [x] 2.3 Create data aggregation and export module
    - Create index.ts that loads and exports all resource data
    - Implement getAllResources(), getResourcesByCategory(), getCategoryById()
    - _Requirements: 6.4_

- [x] 3. Implement core filtering and search logic
  - [x] 3.1 Create filter utility functions
    - Implement filterByCategory(), filterBySubcategory()
    - Implement filterByDifficulty(), filterByPriceType(), filterByPlatform()
    - Implement combineFilters() for multi-filter support
    - _Requirements: 2.2, 2.4, 4.1, 4.2, 4.3, 4.4_
  - [x] 3.2 Write property test for category/subcategory filtering
    - **Property 2: Category and Subcategory Filtering Correctness**
    - **Validates: Requirements 2.2, 2.4**
  - [x] 3.3 Write property test for multi-filter correctness
    - **Property 5: Multi-Filter Correctness**
    - **Validates: Requirements 4.1, 4.2, 4.3, 4.4**
  - [x] 3.4 Create search utility function
    - Implement searchResources() with name, description, tags matching
    - Implement case-insensitive matching
    - Implement debounced search hook
    - _Requirements: 3.2, 3.5_
  - [x] 3.5 Write property test for search relevance
    - **Property 4: Search Result Relevance**
    - **Validates: Requirements 3.2**
  - [x] 3.6 Create category count utility
    - Implement getCategoryResourceCounts()
    - Implement getSubcategoryResourceCounts()
    - _Requirements: 2.5_
  - [x] 3.7 Write property test for category count accuracy
    - **Property 3: Category Resource Count Accuracy**
    - **Validates: Requirements 2.5**

- [x] 4. Checkpoint - Core logic complete
  - Ensure all filter and search tests pass
  - Ask the user if questions arise

- [x] 5. Create UI components
  - [x] 5.1 Create ResourceCard component
    - Display name, description, category badge, difficulty badge, price badge
    - Display platform icons
    - Implement hover animation (translateY, shadow)
    - Support onClick for detail view
    - _Requirements: 1.3, 1.5, 7.3_
  - [x] 5.2 Write property test for resource card rendering
    - **Property 1: Resource Card Rendering Completeness**
    - **Validates: Requirements 1.3**
  - [x] 5.3 Create ResourceGrid component
    - Implement responsive grid layout (1/2/3/4 columns)
    - Support loading state with skeleton cards
    - Implement content transition animation
    - _Requirements: 1.1, 1.4, 7.3_
  - [x] 5.4 Create CategoryNav component
    - Display category list with icons and counts
    - Support active state highlighting
    - Support subcategory expansion
    - Implement as sidebar on desktop, tabs on mobile
    - _Requirements: 2.1, 2.5_
  - [x] 5.5 Create SearchBar component
    - Implement search input with icon
    - Display result count
    - Implement clear button
    - _Requirements: 3.1_
  - [x] 5.6 Create FilterPanel component
    - Create DifficultyFilter with checkbox group
    - Create PriceFilter with checkbox group
    - Create PlatformFilter with checkbox group
    - Create ActiveFilterTags component
    - Implement collapsible panel on mobile
    - _Requirements: 4.1, 4.2, 4.3, 4.6_
  - [x] 5.7 Create ResourceDetailModal component
    - Display full resource details
    - Display related resources section
    - Implement CTA button linking to resource URL
    - Implement smooth open/close animation
    - _Requirements: 5.1, 5.2, 5.3, 5.4, 5.6_
  - [x] 5.8 Write property test for resource detail completeness
    - **Property 6: Resource Detail Completeness**
    - **Validates: Requirements 5.2**
  - [x] 5.9 Create CategoryHeader component
    - Display category name, description, resource count
    - Display long-form SEO content
    - _Requirements: 10.12_
  - [x] 5.10 Write property test for category content presence
    - **Property 15: Category Content Presence**
    - **Validates: Requirements 10.12**
    - **PBT Status: PASSED** (7/7 tests passed)
  - [x] 5.11 Create Breadcrumbs component
    - Display navigation path
    - Support structured data output
    - _Requirements: 10.9_

- [x] 6. Checkpoint - UI components complete
  - Ensure all component tests pass
  - Ask the user if questions arise

- [x] 7. Create page routes and SEO implementation
  - [x] 7.1 Create main resources page at app/[locale]/resources/page.tsx
    - Implement SSG with generateStaticParams
    - Implement generateMetadata for SEO
    - Wire up ResourceGrid, CategoryNav, SearchBar, FilterPanel
    - Add JSON-LD structured data (ItemList, BreadcrumbList)
    - _Requirements: 1.1, 10.1, 10.2, 10.3, 10.10_
  - [x] 7.2 Create category page at app/[locale]/resources/[category]/page.tsx
    - Implement SSG with generateStaticParams for all categories
    - Implement generateMetadata with category-specific SEO
    - Display filtered resources for category
    - Add CategoryHeader with long-form content
    - Add JSON-LD structured data
    - _Requirements: 10.1, 10.2, 10.3, 10.12_
  - [x] 7.3 Create subcategory page at app/[locale]/resources/[category]/[subcategory]/page.tsx
    - Implement SSG with generateStaticParams for all subcategories
    - Implement generateMetadata with subcategory-specific SEO
    - Display filtered resources for subcategory
    - Add JSON-LD structured data
    - _Requirements: 10.1, 10.2, 10.3_
  - [x] 7.4 Create resources layout at app/[locale]/resources/layout.tsx
    - Implement shared layout with sidebar navigation
    - Add common SEO elements
    - _Requirements: 2.1_
  - [x] 7.5 Write property test for route generation
    - **Property 8: Route Generation for Categories**
    - **Validates: Requirements 10.1**
  - [x] 7.6 Write property test for SEO metadata completeness
    - **Property 9: SEO Metadata Completeness**
    - **Validates: Requirements 10.2, 10.7, 10.8, 10.14**
  - [x] 7.7 Write property test for structured data validity
    - **Property 10: Structured Data Validity**
    - **Validates: Requirements 10.3, 10.9**

- [x] 8. Implement SEO enhancements
  - [x] 8.1 Create ItemListSchema component for resource listings
    - Generate valid Schema.org ItemList JSON-LD
    - Support SoftwareApplication type for apps
    - Support Book type for textbooks
    - _Requirements: 10.3_
  - [x] 8.2 Add sitemap entries for all resource pages
    - Update next-sitemap.config.js to include /resources routes
    - Set appropriate priorities (0.8 for main, 0.7 for categories)
    - _Requirements: 10.4_
  - [x] 8.3 Write property test for sitemap completeness
    - **Property 11: Sitemap Completeness**
    - **Validates: Requirements 10.4**
  - [x] 8.4 Implement internal linking strategy
    - Add related categories links on category pages
    - Add "See also" links between related resources
    - _Requirements: 10.11_
  - [x] 8.5 Write property test for internal linking
    - **Property 14: Internal Linking Presence**
    - **Validates: Requirements 10.11**

- [x] 9. Implement accessibility features
  - [x] 9.1 Add keyboard navigation support
    - Implement focus management for resource grid
    - Add keyboard shortcuts for filter panel
    - Implement focus trap in modal
    - _Requirements: 8.1_
  - [x] 9.2 Add ARIA labels and roles
    - Add aria-label to all interactive elements
    - Add role="list" and role="listitem" to resource grid
    - Add aria-expanded to collapsible sections
    - Add aria-live regions for dynamic content
    - _Requirements: 8.2, 8.4_
  - [x] 9.3 Implement focus indicators
    - Add visible focus rings to all interactive elements
    - Ensure focus indicators meet contrast requirements
    - _Requirements: 8.5_

- [x] 10. Add translations
  - [x] 10.1 Add English translations for resources feature
    - Add translations to core/i18n/locales/en/resources.json
    - Include category names, filter labels, UI strings
    - _Requirements: 10.14_
  - [x] 10.2 Add Spanish translations
    - Add translations to core/i18n/locales/es/resources.json
    - _Requirements: 10.14_
  - [x] 10.3 Add Japanese translations
    - Add translations to core/i18n/locales/ja/resources.json
    - _Requirements: 10.14_

- [x] 11. Final checkpoint - Feature complete
  - Ensure all tests pass
  - Run npm run check for TypeScript and ESLint validation
  - Verify SEO with structured data testing tool
  - Ask the user if questions arise

## Notes

- All tasks are required for comprehensive quality assurance
- Each task references specific requirements for traceability
- Property tests validate universal correctness properties
- Unit tests validate specific examples and edge cases
- The resource data files should be populated with real, high-quality resources
- All pages are statically generated for optimal SEO and performance
